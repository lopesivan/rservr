AM_LDFLAGS=-version-info 5:0:0
ALL_INCLUDES=$(STANDARD_INCLUDES) -I$(srcdir)/local-include -I$(srcdir)/../.. -I$(srcdir)/../../include/rservr -I$(srcdir)/../../include -I$(srcdir)/../include/protocol -I$(srcdir)/../include
AM_CPPFLAGS=-DPROTOCOL_LIB -DENABLE_VIRT_ARRAY_ALL "-DSAFEXEC_PATH=\"$(DESTDIR)$(bindir)\"" -DPROTOCOL_PATH=\"$(PLUGIN_PATH)/protocols\" $(ALL_INCLUDES)
lib_LTLIBRARIES=librservr-protocol.la
librservr_protocol_la_SOURCES=api-config-parser.cpp api-protocol-file.cpp api-timing.cpp api-tools.cpp timing-manager.c timing-query.cpp constants.cpp conversion.cpp api-command.cpp command-generator.cpp api-label-check.cpp ipc/command-transmit.cpp ipc/common-input.cpp ipc/cstring-input.cpp ipc/common-output.cpp ipc/api-external-command.cpp ipc/ipc-parser.tab.cpp ipc/ipc-lexer.c
librservr_protocol_la_LIBADD=$(STANDARD_LIBRARIES) -lhparser -lhpaux
librservr_protocol_la_LDFLAGS=-shared
EXTRA_DIST=../include/protocol/local-check.h ../include/protocol/logging.h ../include/protocol/server-timing.h ../include/protocol/api-timing.h ../include/protocol/ipc/api-external-command.hpp ../include/protocol/local-timing.h ../include/protocol/monitor-standby.hpp ../include/protocol/retry-limit.hpp ../include/protocol/api-tools.hpp ../include/protocol/local-types.h ../include/protocol/server-interface.hpp ../include/protocol/timing-manager.h ../include/protocol/timing-query.hpp ../include/protocol/constants.hpp ../include/protocol/conversion.hpp ../include/protocol/client-descriptors.h ../include/protocol/ipc/command-transmit.hpp ../include/protocol/ipc/common-input.hpp ../include/protocol/ipc/cstring-input.hpp ../include/protocol/api-command.h ../include/protocol/auto-response.hpp ../include/protocol/command-generator.hpp ../include/protocol/api-label-check.h ../include/protocol/ipc/common-output.hpp ../include/protocol/ipc/ipc-context.h ../include/protocol/ipc/ipc-parser.tab.h ipc/ipc-lexer.l ipc/ipc-parser.y ipc/build-parser.sh
